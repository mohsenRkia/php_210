function AutoCompleteSearch(n){$("#AutoComplateSearch").typeahead({dynamic:!0,minLength:1,group:["KeywordTypeString","{{group}}"],display:"name",mustSelectItem:!1,source:{searchResult:{display:"name",data:[{name:"",PlaceName:"",CityName:"",Province:"",KeywordTypeString:"شهر"}],url:[{type:"GET",url:n,data:{query:"{{query}}"},callback:{done:function(n){return n}}},"data.searchResult"]}},template:function(n,t){var i="<span>";return i+=t.IsOnline==!0&&t.KeywordType==1?'<span class="onLineIcon"><\/span><span class="name">{{name}}<\/span>':'<span class="name">{{name}}<\/span>',t.KeywordType==1?i+='<span class="floatL star s{{Stars}}"><\/span>':(t.Province,i+='<span class="typeahead-count-city">{{PlacesCount}} اقامتگاه<\/span>'),i+"<\/span>"},highlight:!1,matcher:function(){return!0},filter:function(n,t){return t==""?!1:!0},select:function(){}})}function TourFligAutoComplateh(n,t){$("#AutoComplateTourFlighFrom,#AutoComplateTourFlighTo").typeahead({dynamic:!0,minLength:1,display:"Name",mustSelectItem:!1,resultContainer:!1,callback:{onResult:t},source:{data:[{Name:"",Code:"",IsPopular:""}],url:[{type:"GET",url:n,data:{query:"{{query}}"},callback:{done:function(n){return n}}},"data"]},template:function(){var n="<span>";return n+='<span class="name"><i class="fa fa-plane" aria-hidden="true"><\/i>&nbsp&nbsp{{Name}}<\/span>',n+"<\/span>"},highlight:!1,selected:function(){}});$($(".typeahead").on("typeahead:selected")).each(function(n,t){t.onblur=function(){$(t).change()}})}function AutoComplateFlighFrom(n){$("#AutoComplateFlighFrom").typeahead({dynamic:!0,minLength:1,display:"Name",mustSelectItem:!1,source:{data:[{Name:"",Code:"",IsPopular:""}],url:[{type:"GET",url:n,data:{query:"{{query}}"},callback:{done:function(n){return n}}},"data"]},template:function(){var n="<span>";return n+='<span class="name"><i class="fa fa-plane" aria-hidden="true"><\/i>&nbsp&nbsp{{Name}}<\/span>',n+"<\/span>"},highlight:!1,matcher:function(){return!0},filter:function(n,t){return t==""?!1:!0},selected:function(){}})}function AutoComplateFlighTo(n){$("#AutoComplateFlighTo").typeahead({dynamic:!0,minLength:1,display:"Name",mustSelectItem:!1,source:{data:[{Name:"",Code:"",IsPopular:""}],url:[{type:"GET",url:n,data:{query:"{{query}}"},callback:{done:function(n){return n}}},"data"]},template:function(){var n="<span>";return n+='<span class="name"><i class="fa fa-plane" aria-hidden="true"><\/i>&nbsp&nbsp{{Name}}<\/span>',n+"<\/span>"},highlight:!1,matcher:function(){return!0},filter:function(n,t){return t==""?!1:!0},selected:function(){}})}function checkdevice(){var n=$(window).width();return n>780?2:1}function parseDate(n){var t=n.split("/");return new Date(t[0],t[1]-1,t[2])}function daydiff(n,t){return(t-n)/864e5}function showHide(){var n=$("#GuestCount-dropdown").val();n=="More"?$("#moreGuest").show():$("#moreGuest").hide()}function calcNight(){var n=differenceBetweenTwoDate($("#datepickerFrom").val(),$("#datepickerTo").val());n>0?$(".dayssDav").html("<div class='jbNightCount'> <span class='days'>"+n+"<\/span> شب<\/div>"):$(".dayssDav").html("")}function calcNightFlight(){var n=differenceBetweenTwoDate($("#datepickerFrom").val(),$("#datepickerToFlight").val());n>0?$(".dayssDav").html("<div class='jbNightCount'> <span class='days'>"+n+"<\/span> شب<\/div>"):$(".dayssDav").html("")}function calcNight2(){var n=differenceBetweenTwoDate($("#datepickerFrom2").val(),$("#datepickerTo2").val());n>0?$(".dayssDav2").html("<div class='jbNightCount'> <span class='days'>"+n+"<\/span> شب<\/div>"):$(".dayssDav2").html("")}function calcNightTour(){var n=differenceBetweenTwoDate($("#datepickerFromTour").val(),$("#datepickerToTour").val());n>0?$(".dayssDavAndNight").html("<div class='jbNightCount'> <span class='days'>"+n+"<\/span> شب و <span class='days'>"+(n+1)+"<\/span> روز <\/div>"):$(".dayssDavAndNight").html("")}function padDigits(n,t){return Array(Math.max(t-String(n).length+1,0)).join(0)+n}function differenceBetweenTwoDate(n,t){var i=jalaliToGregorian(n.substring(0,4),n.substring(5,7),n.substring(8,10)),r=jalaliToGregorian(t.substring(0,4),t.substring(5,7),t.substring(8,10)),u=new Date(i[0]+"-"+padDigits(i[1],2)+"-"+padDigits(i[2],2)),f=new Date(r[0]+"-"+padDigits(r[1],2)+"-"+padDigits(r[2],2));return Math.round(Math.abs((f.getTime()-u.getTime())/864e5))}function differenceBetweenTwoDateSplit(n,t){var i=new Date(n[0]+"-"+padDigits(n[1],2)+"-"+padDigits(n[2],2)),r=new Date(t[0]+"-"+padDigits(t[1],2)+"-"+padDigits(t[2],2));return Math.round(Math.abs((r.getTime()-i.getTime())/864e5))}var substringMatcher=function(n){var t=[];return $.each(n,function(n,i){t.push(i)}),t},g_days_in_month,j_days_in_month;$(document).ready(function(){var r=new Date,u=$("#datepickerTo").datepicker({numberOfMonths:checkdevice(),rangeSelect:!0,showButtonPanel:!0,dateFormat:"yy/mm/dd",showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"",onClose:function(){calcNight()}}),n,t,i;$("#datepickerFrom").datepicker({numberOfMonths:checkdevice(),showButtonPanel:!0,showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",maxDate:"",dateFormat:"yy/mm/dd",rangeSelect:!0,onClose:function(){calcNight();$("#datepickerTo").datepicker("show")},onSelect:function(n,t){var i=new JalaliDate(t.selectedYear,t.selectedMonth,t.selectedDay);i.setDate(i.getDate()+1);$("#datepickerTo").datepicker("option","minDate",i)}});n=$("#datepickerToFlight").datepicker({numberOfMonths:checkdevice(),rangeSelect:!0,showButtonPanel:!0,dateFormat:"yy/mm/dd",showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"",onClose:function(){calcNight()}});$("#datepickerFromFlight").datepicker({numberOfMonths:checkdevice(),showButtonPanel:!0,showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",maxDate:"",dateFormat:"yy/mm/dd",rangeSelect:!0,onClose:function(){calcNightFlight();$("#datepickerToFlight").datepicker("show")},onSelect:function(n,t){var i=new JalaliDate(t.selectedYear,t.selectedMonth,t.selectedDay);i.setDate(i.getDate()+1);$("#datepickerToFlight").datepicker("option","minDate",i)}});t=$("#datepickerTo2").datepicker({numberOfMonths:checkdevice(),rangeSelect:!0,showButtonPanel:!0,dateFormat:"yy/mm/dd",showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"",onClose:function(){calcNight2()}});$("#datepickerFrom2").datepicker({numberOfMonths:checkdevice(),showButtonPanel:!0,showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",maxDate:"",dateFormat:"yy/mm/dd",rangeSelect:!0,onClose:function(){calcNight2();$("#datepickerTo2").datepicker("show")},onSelect:function(n,t){var i=new JalaliDate(t.selectedYear,t.selectedMonth,t.selectedDay);i.setDate(i.getDate()+1);$("#datepickerTo2").datepicker("option","minDate",i)}});$("#datepickerFlight").datepicker({numberOfMonths:checkdevice(),showButtonPanel:!0,showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",maxDate:"",dateFormat:"yy/mm/dd",rangeSelect:!1});i=$("#datepickerToTour,#internationalFlighToDate").datepicker({numberOfMonths:checkdevice(),rangeSelect:!0,showButtonPanel:!0,dateFormat:"yy/mm/dd",showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",onClose:function(){calcNightTour()}});$("#datepickerFromTour,#internationalFlighFromDate").datepicker({numberOfMonths:checkdevice(),showButtonPanel:!0,showOn:"both",buttonImage:"/content/images/calender.png",buttonImageOnly:!0,minDate:"0",maxDate:"",dateFormat:"yy/mm/dd",rangeSelect:!0,onClose:function(){calcNightTour();var n=$(this).attr("id");n=n.indexOf("internationalFligh")>=0?"#internationalFlighToDate":"#datepickerToTour";$(n).datepicker("show")},onSelect:function(n,t){var r=new JalaliDate(t.selectedYear,t.selectedMonth,t.selectedDay),i;r.setDate(r.getDate()+1);i=$(this).attr("id");i=i.indexOf("internationalFligh")>=0?"#internationalFlighToDate":"#datepickerToTour";$(i).datepicker("option","minDate",r);$(this).trigger("change")}})});$(".jbcheckboxSearch").click(function(){$(".jbcheckboxSearch").toggleClass("select");var n=$("#checkboxHomeChild");n.attr("checked",!n.attr("checked"))});g_days_in_month=[31,28,31,30,31,30,31,31,30,31,30,31];j_days_in_month=[31,31,31,31,31,31,30,30,30,30,30,29];jalaliToGregorian=function(n,t,i){var r,f,e,u,h,c;n=parseInt(n);t=parseInt(t);i=parseInt(i);var o=n-979,l=t-1,a=i-1,s=365*o+parseInt(o/33)*8+parseInt((o%33+3)/4);for(u=0;u<l;++u)s+=j_days_in_month[u];for(s+=a,r=s+79,f=1600+400*parseInt(r/146097),r=r%146097,e=!0,r>=36525&&(r--,f+=100*parseInt(r/36524),r=r%36524,r>=365?r++:e=!1),f+=4*parseInt(r/1461),r%=1461,r>=366&&(e=!1,r--,f+=parseInt(r/365),r=r%365),u=0;r>=g_days_in_month[u]+(u==1&&e);u++)r-=g_days_in_month[u]+(u==1&&e);return h=u+1,c=r+1,[f,h,c]};checkDate=function(n,t,i){return!(n<0||n>32767||t<1||t>12||i<1||i>j_days_in_month[t-1]+(t==12&&!((n-979)%33%4)))};gregorianToJalali=function(n,t,i){var r,h,o,u,c,l;n=parseInt(n);t=parseInt(t);i=parseInt(i);var f=n-1600,s=t-1,a=i-1,e=365*f+parseInt((f+3)/4)-parseInt((f+99)/100)+parseInt((f+399)/400);for(u=0;u<s;++u)e+=g_days_in_month[u];for(s>1&&(f%4==0&&f%100!=0||f%400==0)&&++e,e+=a,r=e-79,h=parseInt(r/12053),r%=12053,o=979+33*h+4*parseInt(r/1461),r%=1461,r>=366&&(o+=parseInt((r-1)/365),r=(r-1)%365),u=0;u<11&&r>=j_days_in_month[u];++u)r-=j_days_in_month[u];return c=u+1,l=r+1,[o,c,l]};$(document).ready(function(){var n=$("[data-autocomplete-url]").data("autocomplete-url");AutoCompleteSearch(n);$("[data-dh-selected-city-close-map-btn]").on("click",function(){$(this).parents(".modal").modal("hide")});$(".dh-read-more").on("click",function(){$(this).find("i").toggleClass("dh-hidden")})})